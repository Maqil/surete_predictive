(this["webpackJsonplims-web"]=this["webpackJsonplims-web"]||[]).push([[0],{132:function(e,t,a){e.exports=a(162)},137:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),l=(a(137),a(51)),c=a(52),s=a(56),m=a(53),u=a(57),d=a(28),p=a(116),h=a(237),g=a(243),E=a(34),v=Object(E.a)(),b=a(54),f=a(18),y=a(44),S=a(99),O=a(212),w=a(214),_=a(119),C=a(48),k=a(239),N=a(217),I=a(218),T=a(221),x=a(219),j=a(220),A=a(98),P=a.n(A);var R=a(58),L=a.n(R),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"GET_ERRORS",payload:{msg:e,type:t}}},M=function(){return function(e){e({type:"SNACKBAR_CLEAR"})}},F=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(P.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",resizeMode:"contain"},login:{background:"#F9FAFB"},paper:{margin:e.spacing(10),alignItems:"center",paddingTop:"50px"},logo:{width:100,height:20,resizeMode:"contain"},form:{marginTop:e.spacing(1),width:"100%"},seconnecter:{marginTop:57},input:{background:"white",borderRadius:6},button:{margin:e.spacing(3,0,2),width:"100%",height:"48px",borderRadius:6,backgroundColor:"#00c48c",color:"white","&:hover":{backgroundColor:"#00c48c"}},notchedOutline:{borderWidth:"1px",borderColor:"white"},mdpoublie:{marginTop:"23px"}}})),D={EMAIL:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Password:/^\d*$/};var z=Object(d.b)((function(e){return{user:e.auth.user,error:e.error}}),{login:function(e){var t=e.email,a=e.password;return function(e){var n=new FormData;n.append("_username",t),n.append("_password",a),L.a.post("http://52.174.162.66/lims/app/public/index.php/login_check",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){console.log(t.response.data),e(B(t.response.data,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},showErrorSnackbar:function(e){return function(t){t({type:"SNACKBAR_ERROR",message:e})}},clearErrors:function(){return{type:"CLEAR_ERRORS"}}})((function(e){var t,a=F(),i=function(e,t,a,r){var i=Object(n.useState)(t),o=Object(y.a)(i,2),l=o[0],c=o[1],s=Object(n.useState)(null),m=Object(y.a)(s,2),u=m[0],d=m[1];function p(){var e=a&&a(l,r);return"empty"===e&&d(null),d(!e),e}return{props:{name:e,value:l,onChange:function(e){c(e.target.value),d(null)},onBlur:function(){p()},error:u},validate:p}}("Email","",(function(e,t){return!!(e&&t&&e.match(t))||!e&&"empty"}),D.EMAIL),o=r.a.useState({email:i.props.value,password:"",msg:null,showPassword:!1}),l=Object(y.a)(o,2),c=l[0],s=l[1];return r.a.createElement(O.a,{container:!0,component:"main",className:a.root},r.a.createElement(w.a,null),r.a.createElement(O.a,{item:!0,xs:!1,sm:6,md:6,className:a.image}),r.a.createElement(O.a,{item:!0,xs:12,sm:6,md:6,component:_.a,elevation:6,square:!0,className:a.login},r.a.createElement("div",{className:a.paper},r.a.createElement(C.a,{variant:"subtitle2",className:a.seconnecter},"Se connecter"),r.a.createElement("form",{method:"POST",className:a.form,onSubmit:function(t){t.preventDefault();var a=c.password;"abdelfattah_admin@gmail.com"===i.props.value&&"123456"===a?e.history.push("/admin"):e.showErrorSnackbar("Ce compte n\u2019existe pas")}},r.a.createElement(k.a,Object.assign({className:a.input,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse mail",name:"email",InputProps:{classes:{notchedOutline:a.notchedOutline}}},i.props)),i.props.error&&r.a.createElement(C.a,{variant:"caption",color:"error"},"Adresse mail invalide"),r.a.createElement(k.a,{className:a.input,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:c.showPassword?"text":"password",value:c.password,id:"password",autoComplete:"current-password",onChange:(t="password",function(e){s(Object(f.a)({},c,Object(b.a)({},t,e.target.value)))}),InputProps:{endAdornment:r.a.createElement(N.a,{position:"end"},r.a.createElement(I.a,{edge:"end","aria-label":"toggle password visibility",onClick:function(){s(Object(f.a)({},c,{showPassword:!c.showPassword}))},onMouseDown:function(e){e.preventDefault()}},c.showPassword?r.a.createElement(x.a,null):r.a.createElement(j.a,null))),classes:{notchedOutline:a.notchedOutline}}}),r.a.createElement(T.a,{type:"submit",variant:"contained",className:a.button},"Connexion")))))})),U=a(244),H=a(222),G=a(103),W=a.n(G),V=a(101),J=a.n(V),Z=a(102),K=a.n(Z),Y=Object(S.a)((function(e){return{snackbar:{marginTop:60},snackbarcontent:{width:380,height:85,borderRadius:4,boxShadow:"0 2px 14px 0 rgba(0, 0, 0, 0.08)",backgroundColor:"white"},snackbartitle:{fontSize:15,fontWeight:"500",color:"#243b6b"},snackbartext:{width:188,marginTop:6,fontSize:12,lineHeight:1.08,letterSpacing:.08,color:"rgba(74, 74, 74, 0.57)"},close:{color:"rgba(74, 74, 74, 0.57)"}}}));function q(){var e,t=Y(),a=Object(d.c)(),n=Object(d.d)((function(e){return e.snackbar})),i=n.SnackbarMessage,o=n.SnackbarTitle,l=n.SnackbarOpen,c=n.SnackbarType,s=function(){a(M())};return"success"===c?e=r.a.createElement(J.a,{style:{width:55,height:55,fill:"#00c48c"}}):"error"===c&&(e=r.a.createElement(K.a,{style:{width:55,height:55,fill:"#ff647c"}})),r.a.createElement(U.a,{className:t.snackbar,anchorOrigin:{vertical:"top",horizontal:"right"},open:l,autoHideDuration:4e3,onClose:s,ContentProps:{"aria-describedby":"message-id"}},r.a.createElement(H.a,{className:t.snackbarcontent,style:{borderLeft:"6px solid"+function(e){switch(e){case"error":return"#ff647c";case"success":return"#00c48c";default:return""}}(c)},message:r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},e,r.a.createElement("div",{style:{display:"inline",marginLeft:20}},r.a.createElement("span",{id:"message-id",className:t.snackbartitle},o),r.a.createElement("p",{className:t.snackbartext},i)))),action:[r.a.createElement(I.a,{key:"close",className:t.close,onClick:s},r.a.createElement(W.a,null))]}))}var $=a(3),Q=a(241),X=a(238),ee=a(232),te=a(233),ae=a(234),ne=a(235),re=a(230),ie=a(108),oe=a.n(ie),le=a(110),ce=a.n(le),se=a(109),me=a.n(se);function ue(e){return r.a.createElement(C.a,{component:"h4",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var de=a(14),pe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ue,null,"Nombre d'incident par ann\xe9e"),r.a.createElement("div",{style:{display:"flex",maxWidth:900,marginLeft:-113,marginTop:-10}},r.a.createElement(de.a,{width:750,height:380,chartType:"ColumnChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Year","Nombre d'incident"],["2015",138],["2016",130],["2017",227],["2018",144],["2019",132]],options:{chartArea:{width:"45%"},hAxis:{title:"Ann\xe9e",minValue:0}},legendToggle:!0})))}}]),t}(n.Component);function he(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Pourcentage d'incidents par site"),r.a.createElement("div",{style:{marginLeft:-95}},r.a.createElement(de.a,{width:600,height:380,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Site","compteur"],["Plateau",4],["Port",658],["Usine",111]],rootProps:{"data-testid":"1"}})))}var ge=Object(S.a)({depositContext:{flex:1},wrapper:{marginTop:30},item:{marginTop:35},title:{fontSize:18,fontWeight:"500"}});function Ee(){var e=ge();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.item},r.a.createElement(C.a,{component:"p",className:e.title,color:"primary"},"Immigrants intercept\xe9s"),r.a.createElement(C.a,{component:"p",variant:"h4"},"1186")),r.a.createElement("div",{className:e.item},r.a.createElement(C.a,{component:"p",className:e.title,color:"primary"},"Immigrants non intercept\xe9s"),r.a.createElement(C.a,{component:"p",variant:"h4"},"357")),r.a.createElement("div",{className:e.item},r.a.createElement(C.a,{component:"p",className:e.title,color:"primary"},"Personnes arr\xe9t\xe9s Usine"),r.a.createElement(C.a,{component:"p",variant:"h4"},"17"))))}a(223),a(227),a(226),a(224),a(225);function ve(e,t,a,n,r,i){return{id:e,date:t,name:a,shipTo:n,paymentMethod:r,amount:i}}ve(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),ve(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),ve(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),ve(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),ve(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79);function be(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Suivi des incidents par zone: USINE"),r.a.createElement("div",{style:{marginLeft:-40}},r.a.createElement(de.a,{width:600,height:380,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Zone","Pourcentage"],["BAB SOUIRA",32],["Sotreg",4],["OIS/M",9],["OIS/C",48],["OIS/D",16],["CCI",2]],options:{title:"USINE",pieHole:.4},rootProps:{"data-testid":"3"}})))}var fe=a(231),ye=a(117);function Se(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Suivi des incidents par mois"),r.a.createElement(de.a,{width:1e3,height:400,chartType:"Line",loader:r.a.createElement("div",null,"Loading Chart"),data:[["ann\xe9e","2015","2016","2017","2018","2019"],["Janvier",15,14,34,6,24],["Fevrier",23,11,36,14,21],["Mars",14,6,28,15,5],["Avril",12,8,12,7,3],["Mai",8,0,0,5,10],["Juin",10,18,10,9,9],["Juillet",8,0,19,8,10],["Ao\xfbt",14,19,20,8,1],["Septembre",11,20,17,15,0],["Octobre",15,0,23,22,20],["Novembre",8,7,21,16,14],["Decembre",0,27,7,19,15]],rootProps:{"data-testid":"5"}}))}function Oe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Suivi des incidents par zone: PORT"),r.a.createElement("div",{style:{marginLeft:-40}},r.a.createElement(de.a,{width:600,height:380,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Zone","Pourcentage"],["zone soufre",172],["Zone engrai/phosphate",147],["zone amoniac",32],["Quai EP",205],["ANP",83],["administration",3]],options:{title:"PORT",pieHole:.4},rootProps:{"data-testid":"3"}})))}function we(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Nombre d'incidents: PORT"),r.a.createElement("div",null,r.a.createElement(de.a,{width:600,height:350,chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Type d'incident","Nombre"],["Tentative de vol",0],["Sit-in",2],["Tentative d'intrusion",651],["Intrusion",5],["Vol",0],["Aggression",0]],options:{title:"PORT",chartArea:{width:"50%"},isStacked:!0,hAxis:{title:"Type d'incident",minValue:0},colors:["#00c48c"],vAxis:{title:"Nombre"}},rootProps:{"data-testid":"3"}})))}function _e(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Nombre d'incidents: USINE"),r.a.createElement("div",null,r.a.createElement(de.a,{width:600,height:350,chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Type d'incident","Nombre"],["Tentative de vol",29],["Sit-in",42],["Tentative d'intrusion",15],["Intrusion",0],["Vol",4],["Aggression",17]],options:{title:"USINE",chartArea:{width:"50%"},isStacked:!0,hAxis:{title:"Type d'incident",minValue:0},colors:["#00c48c"],vAxis:{title:"Nombre"}},rootProps:{"data-testid":"3"}})))}function Ce(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Nombre d'incidents par poste de travail: PORT"),r.a.createElement("div",null,r.a.createElement(de.a,{width:600,height:350,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Post","Nombre"],["1er",135],["2\xe8me",83],["3\xe8me",440]],options:{is3D:!0},rootProps:{"data-testid":"2"}})))}function ke(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,"Nombre d'incidents par poste de travail: USINE"),r.a.createElement("div",null,r.a.createElement(de.a,{width:600,height:350,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Post","Nombre"],["1er",46],["2\xe8me",32],["3\xe8me",33]],options:{is3D:!0},rootProps:{"data-testid":"2"}})))}var Ne=a(216),Ie=a(163),Te=a(228),xe=a(229),je=a(106),Ae=a.n(je),Pe=a(107),Re=a.n(Pe);function Le(e){var t=Object(g.d)();return r.a.createElement(Ne.a,null,r.a.createElement("div",null,r.a.createElement(Ie.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Ae.a,null)),r.a.createElement(xe.a,{primary:"Dashboard"})),r.a.createElement(Ie.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Re.a,null)),r.a.createElement(xe.a,{primary:"Map",onClick:function(e){t.push("/map")}}))))}function Be(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(re.a,{color:"inherit",href:"https://material-ui.com/"},"S\xfbret\xe9 pr\xe9dictive")," ",(new Date).getFullYear(),".")}var Me=Object(S.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450}}}));var Fe=Object(d.b)((function(e){return{incidents:e.incidents.incidents}}),{fetchIncidents:function(){return function(e){L.a.get("http://localhost:8000/incidents").then((function(t){return e({type:"FETCH_INCIDENTS",payload:t.data})})).catch((function(e){return console.log(e)}))}},fetchCountIncidents:function(){return function(e){L.a.get("http://localhost:8000/count_incidents").then((function(t){return e({type:"FETCH_COUNTER_BY_DATE",payload:t.data})})).catch((function(e){return console.log(e)}))}},logout:function(){return{type:"LOGOUT_SUCCESS"}}})((function(e){var t=Me(),a=r.a.useState(!0),n=Object(y.a)(a,2),i=n[0],o=n[1],l=r.a.useState(null),c=Object(y.a)(l,2),s=c[0],m=c[1],u=Boolean(s);r.a.useEffect((function(){e.fetchIncidents(),e.fetchCountIncidents()}),[]);var d=Object($.a)(t.paper,t.fixedHeight),p=function(){m(null)};console.log(e.incidents);var h=r.a.createElement(ye.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:p},r.a.createElement(fe.a,{onClick:p},"Profile"),r.a.createElement(fe.a,{onClick:function(){e.history.push("/")}},"Logout"));return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,null),r.a.createElement(ee.a,{position:"absolute",className:Object($.a)(t.appBar,i&&t.appBarShift)},r.a.createElement(te.a,{className:t.toolbar},r.a.createElement(I.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},className:Object($.a)(t.menuButton,i&&t.menuButtonHidden)},r.a.createElement(oe.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Dashboard"),r.a.createElement(I.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit",onClick:function(e){m(e.currentTarget)}},r.a.createElement(me.a,null)))),h,r.a.createElement(Q.a,{variant:"permanent",classes:{paper:Object($.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(I.a,{onClick:function(){o(!1)}},r.a.createElement(ce.a,null))),r.a.createElement(ae.a,null),r.a.createElement(Le,null),r.a.createElement(ae.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(ne.a,{maxWidth:"lg",className:t.container},r.a.createElement(O.a,{container:!0,spacing:3},r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:5},r.a.createElement(_.a,{className:d},r.a.createElement(pe,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:4},r.a.createElement(_.a,{className:d},r.a.createElement(he,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:3},r.a.createElement(_.a,{className:d},r.a.createElement(Ee,null))),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(_.a,{className:t.paper},r.a.createElement(Se,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:d},r.a.createElement(be,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:t.paper},r.a.createElement(Oe,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:d},r.a.createElement(_e,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:d},r.a.createElement(we,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:d},r.a.createElement(ke,null))),r.a.createElement(O.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{className:d},r.a.createElement(Ce,null)))),r.a.createElement(X.a,{pt:4},r.a.createElement(Be,null)))))})),De=a(242),ze=a(245),Ue=a(236),He=a(246);function Ge(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginLeft:-40}},r.a.createElement(de.a,{width:600,height:380,chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[["Type d'incident","Nombre"],["Tentative d'intrusion",e.tentative_intrusion],["Immobilisation",e.immobilisation],["Tentative de vol",e.tentative_vol],["Sit-in",e.sit_in],["Intrusion",e.intrusion],["Vol",e.vol]],options:{title:e.name,pieHole:.4},rootProps:{"data-testid":"3"}})))}var We=[{name:"Quai EP",latitude:32.305572,longitude:-9.247014,tentative_intrusion:42,immobilisation:159,tentative_vol:0,sit_in:2,intrusion:5,vol:0},{name:"Zone engrai/phosphate",latitude:32.308801,longitude:-9.245253,tentative_intrusion:28,immobilisation:119,tentative_vol:0,sit_in:0,intrusion:5,vol:0},{name:"Zone soufre",latitude:32.313709,longitude:-9.249675,tentative_intrusion:47,immobilisation:125,tentative_vol:0,sit_in:0,intrusion:0,vol:0},{name:"ANP",latitude:32.311859,longitude:-9.248345,tentative_intrusion:9,immobilisation:74,tentative_vol:0,sit_in:0,intrusion:0,vol:0},{name:"Zone amoniac",latitude:32.306873,longitude:-9.244943,tentative_intrusion:0,immobilisation:32,tentative_vol:0,sit_in:0,intrusion:0,vol:0},{name:"BAB SOUIRA",latitude:32.223966,longitude:-9.251118,tentative_intrusion:0,Agression:11,tentative_vol:16,sit_in:5,intrusion:0,vol:0},{name:"OIS/C",latitude:32.232092,longitude:-9.252476,tentative_intrusion:6,Agression:11,tentative_vol:9,sit_in:31,intrusion:0,vol:1},{name:"OIS/M",latitude:32.223798,longitude:-9.248551,tentative_intrusion:0,Agression:2,tentative_vol:1,sit_in:3,intrusion:0,vol:3},{name:"OIS/D",latitude:32.218983,longitude:-9.240848,tentative_intrusion:9,Agression:1,tentative_vol:2,sit_in:1,intrusion:0,vol:0}],Ve=[32.261012,-9.2549132],Je=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(De.a,{center:Ve,zoom:13.21,style:{height:800,width:"100%"}},r.a.createElement(ze.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),We.map((function(e){return r.a.createElement(Ue.a,{key:e.name,position:[e.latitude,e.longitude]},r.a.createElement(He.a,{closeButton:!0},r.a.createElement(Ge,{name:e.name,tentative_intrusion:e.tentative_intrusion,immobilisation:e.immobilisation,tentative_vol:e.tentative_vol,sit_in:e.sit_in,intrusion:e.intrusion,vol:e.vol})))})))}}]),t}(n.Component),Ze=function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("h3",null,"Erreur 404: the path ",r.a.createElement("code",null,t.pathname)," is not defined"))};var Ke=Object(d.b)((function(e){return{token:e.auth.token,user:"string"===typeof e.auth.user?JSON.parse(e.auth.user):e.auth.user}}))((function(e){return r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(g.b,{history:v},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/surete_predictive/",component:z}),r.a.createElement(g.a,{exact:!0,path:"/",component:z}),r.a.createElement(g.a,{exact:!0,path:"/login",component:z}),r.a.createElement(g.a,{exact:!0,path:"/admin",component:Fe}),r.a.createElement(g.a,{exact:!0,path:"/map",component:Je}),r.a.createElement(g.a,{component:Ze}))))})),Ye=a(40),qe=a(114),$e=a(115),Qe={msg:{},type:null},Xe={token:localStorage.getItem("lims_token")?localStorage.getItem("lims_token"):null,user:localStorage.getItem("lims_user")?localStorage.getItem("lims_user"):null,refresh_token:localStorage.getItem("lims_refresh_token")?localStorage.getItem("lims_refresh_token"):null},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SNACKBAR_SUCCESS":return Object(f.a)({},e,{SnackbarOpen:!0,SnackbarType:"success",SnackbarTitle:"F\xe9licitation",SnackbarMessage:t.payload});case"SNACKBAR_ERROR":return Object(f.a)({},e,{SnackbarOpen:!0,SnackbarType:"error",SnackbarTitle:"Oops !",SnackbarMessage:t.message});case"SNACKBAR_CLEAR":return Object(f.a)({},e,{SnackbarOpen:!1});default:return e}},tt={incidents:[],incidentsCounterByDate:[]},at=Object(Ye.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return localStorage.setItem("lims_token",t.payload.token),localStorage.setItem("lims_user",JSON.stringify(t.payload.data)),localStorage.setItem("lims_refresh_token",t.payload.refresh_token),Object(f.a)({},e,{token:t.payload.token,user:t.payload.data,refresh_token:t.payload.refresh_token});case"LOGIN_FAIL":case"LOGOUT_SUCCESS":return localStorage.removeItem("lims_token"),localStorage.removeItem("lims_user"),localStorage.removeItem("lims_refresh_token"),Object(f.a)({},e,{token:null,user:null});case"REFRESH_TOKEN":return localStorage.setItem("lims_token",t.payload.token),localStorage.setItem("lims_refresh_token",t.payload.refresh_token),console.log(t.payload),Object(f.a)({},e,{token:t.payload.token,refresh_token:t.payload.refresh_token});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,type:t.payload.type};case"CLEAR_ERRORS":return{msg:{},type:null};default:return e}},snackbar:et,incidents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INCIDENTS":return Object(f.a)({},e,{incidents:t.payload});case"FETCH_COUNTER_BY_DATE":return Object(f.a)({},e,{incidentsCounterByDate:t.payload});default:return e}}}),nt=[qe.a],rt=Object(Ye.createStore)(at,{},Object($e.composeWithDevTools)(Ye.applyMiddleware.apply(void 0,nt))),it=Object(p.a)({typography:{useNextVariants:!0}}),ot=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{theme:it},r.a.createElement(d.a,{store:rt},r.a.createElement(Ke,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(161);o.a.render(r.a.createElement(ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,a){e.exports=a.p+"static/media/ocp.19575afd.jpg"}},[[132,1,2]]]);
//# sourceMappingURL=main.4ece6993.chunk.js.map